#!/usr/bin/env bash

# Git Commit command
# ==================
# Tim Friske <me@tifr.de>
#
# Deps:: bash, env, git-commit

# Ensure fail-fast script execution.
shopt -os nounset pipefail errexit errtrace

function main {
  local commit="${1:-HEAD~1}"
  local of_commit="${2:-${commit}}"
  git commit --squash="${commit}" --no-edit --reuse-message="${of_commit}" ${GIT_X_SIGNOFF:-} --reset-author "${@:3}"
}

main "${@}"
