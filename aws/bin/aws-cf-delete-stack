#!/usr/bin/env bash

# AWS CloudFormation Delete Stack command
# =======================================
# Tim Friske <me@tifr.de>
#
# Deletes the given AWS CloudFormation stack and waits until it is deleted.
#
# Deps:: aws, bash, env

# Ensure fail-fast script execution.
shopt -os nounset pipefail errexit errtrace

cf_stack_name="${1:-"${cf_stack_name:?required}"}"
aws cloudformation delete-stack --stack-name "${cf_stack_name}"
aws cloudformation wait stack-delete-complete --stack-name "${cf_stack_name}"
