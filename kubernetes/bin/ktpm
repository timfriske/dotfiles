#!/usr/bin/env bash

# Kubectl command
# ===============
# Tim Friske <me@tifr.de>
#
# Deps:: bash, env, kubectl, watch

shopt -os nounset pipefail errexit errtrace

if [[ -t 1 ]]; then
  watch --differences --errexit kubectl top pod --sort-by=memory "${@}"
else
  kubectl top pod --sort-by=memory "${@}"
fi
