#!/usr/bin/env bash

# Date command
# ============
# Tim Friske <me@tifr.de>
#
# Shows _GMT_ _Greenwich Mean Time_ in ISO-8601 format up to the given
# precision or seconds by default.
#
# Prints `date-gmt-iso-8601-FMT: DATE-GMT-ISO-8601-FMT` if standard
# output file descriptor is connected to terminal, else just
# `DATE-GMT-ISO-8601-FMT`.
#
# Deps:: bash, date, env

shopt -os nounset pipefail errexit errtrace

[ -t 1 ] && printf 'date-gmt-iso-8601-%s: ' "${1:-seconds}"
TZ=GMT date --iso-8601="${1:-seconds}" "${@:2}"
